(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{19:function(e,t,n){},26:function(e,t,n){e.exports=n(43)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(24),o=n.n(i),s=n(13),c=n(6),l=n(1),d=n(2),h=n(5),u=n(4),f=n(3),g=(n(19),function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.changeFunc,t=this.props.toolSettings;return[r.a.createElement("div",{className:"toolbar-sect",key:"nodeProps"},r.a.createElement("div",{className:"section-label"}," Node Properties "),r.a.createElement("div",{className:"toolbar-sect-content"},r.a.createElement(p,{name:"radius",settings:t,min:5,max:20,setting:"nodeRadius",changeFunc:e}),r.a.createElement(m,{setting:"nodeColor",changeFunc:e,settings:t}))),r.a.createElement("div",{className:"toolbar-sect",key:"edgeProps"},r.a.createElement("div",{className:"section-label"}," Edge Properties "),r.a.createElement("div",{className:"toolbar-sect-content"},r.a.createElement(p,{name:"weight",settings:t,min:-100,max:100,setting:"weight",changeFunc:e}),r.a.createElement(m,{setting:"edgeColor",changeFunc:e,settings:t})))]}}]),n}(r.a.Component)),p=function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).inputRef=r.a.createRef(),a.valueChange=a.valueChange.bind(Object(h.a)(a)),a}return Object(d.a)(n,[{key:"valueChange",value:function(e){var t=this.inputRef.current.value,n=parseInt(this.inputRef.current.value);if(t.length>0)if(isNaN(n))this.inputRef.current.value=this.props.min;else{var a=Math.min(Math.max(this.props.min,n),this.props.max);this.props.changeFunc(this.props.setting,a)}}},{key:"render",value:function(){return r.a.createElement("div",{className:"toolbar-slider"},r.a.createElement("span",null,this.props.name,":"),r.a.createElement("input",{type:"number",title:this.props.min+" to "+this.props.max,min:this.props.min,max:this.props.max,defaultValue:this.props.settings[this.props.setting],onInput:this.valueChange,ref:this.inputRef}))}}]),n}(r.a.Component);var m=function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={colors:["#000000","#927fbf","#b1c5d4","#ff6961","#bde7bd"],selectedInd:0},a}return Object(d.a)(n,[{key:"changeColor",value:function(e){this.props.changeFunc(this.props.setting,this.state.colors[e]),this.setState({selectedInd:e})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"color-preview-list"},r.a.createElement("div",null," color: "),this.state.colors.map((function(t,n){return r.a.createElement("div",{key:n,className:"color-preview-elt",style:{backgroundColor:t,border:n===e.state.selectedInd?"2px solid white":"1px solid var(--celadon-blue)"},onClick:function(){e.changeColor(n)}})}))))}}]),n}(r.a.Component);function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.privateString=e,this.publicString=b(e,t),this.item=t}function b(e,t){if(null===t)return e;switch(e){case"add node":return t.label;case"add edge":return t.u.label+" "+t.v.label;case"delete node":return"del "+t.label;case"delete edge":return"del "+t.u.label+" "+t.v.label;case"color node":return"color "+t.node.label+" "+t.colorLetter;case"color edge":return"color "+t.edge.u.label+" "+t.edge.v.label+" "+t.colorLetter;case"dijkstra":return"dijkstra "+t.s+" "+t.e;case"belford":return"belford "+t.s+" "+t.e;case"eulerian mark":return t.edge.u.label+" to "+t.edge.v.label;case"bfs":return"bfs "+t.label;case"minst":return"minst "+t.label;case"maxst":return"maxst "+t.label;default:return e}}function y(e,t,n,a){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20,i=n.u,o=n.v,s=S(i,a),c=S(o,a),l=i.radius,d=o.radius,h=E(s,c),u=h+Math.PI/2,f=k(s,P(l,h)),g=O(c,P(d,h));if(n.bent){var p=x(k(o,i),.5),m=w(c,s),v=k(p,C(P(Math.min(40,100/m*200),u),a)),b={x:v.x,y:v.y,radius:0},A={u:i,v:b,bent:!1},R={u:b,v:o,bent:!1};return y(e,t,A,a)||y(e,t,R,a)}var M=P(r,u),I=k(f,M),L=O(f,M),K=O(g,M),D=w(I,L),G=w(K,L),T=P(G,h),F=P(D,u),W=O({x:e,y:t},L),U=N(W,T)/j(T),J=N(W,F)/j(F),V=U*G>=0&&Math.abs(U)<=G,B=J*D>=0&&Math.abs(J)<=D;return V&&B}function w(e,t){var n=t.x-e.x,a=t.y-e.y;return Math.sqrt(n*n+a*a)}function E(e,t){var n=t.x-e.x,a=t.y-e.y;return Math.atan2(a,n)}function k(e,t){return{x:t.x+e.x,y:t.y+e.y}}function O(e,t){return{x:e.x-t.x,y:e.y-t.y}}function N(e,t){return e.x*t.x+e.y*t.y}function j(e){return w(e,{x:0,y:0})}function x(e,t){return{x:e.x*t,y:e.y*t}}function S(e,t){var n=t.w,a=t.h;return{x:e.x*n,y:e.y*a}}function C(e,t){var n=t.w,a=t.h;return{x:e.x/n,y:e.y/a}}function P(e,t){return{x:e*Math.cos(t),y:e*Math.sin(t)}}var A=n(10);function R(){var e=this;this.A=[],this.parent=function(e){return Math.floor(e/2)},this.left=function(e){return 2*e},this.right=function(e){return 2*e+1},this.insert=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9999;e.A.push({elt:t,key:9999}),e.decreaseKey(e.A.length-1,n)},this.decreaseKey=function(t,n){var a,r=e.A;if(!(r[t].key<n))for(r[t].key=n;t>0&&r[e.parent(t)].key>r[t].key;)a=e.parent(t),e.exchange(a,t),t=a},this.extractMin=function(){var t=e.A;if(0!==t.length){var n=t.shift();return t.length>0&&(t.unshift(t.pop()),e.minHeapify(0)),n.elt}},this.minHeapify=function(t){var n=e.A,a=t,r=e.left(t),i=e.right(t);r<=n.length-1&&n[r].key<n[t].key&&(a=r),i<=n.length-1&&n[i].key<n[a].key&&(a=i),t!==a&&(e.exchange(a,t),e.minHeapify(a))},this.indexOf=function(t){for(var n=0;n<e.A.length;n++)if(e.A[n].elt===t)return n;return-1},this.getKey=function(t){return e.A[t].key},this.exchange=function(t,n){var a=e.A,r=a[t];a[t]=a[n],a[n]=r},this.isEmpty=function(){return 0===e.A.length}}function M(e){var t=[new v("clear")];return e.getNodeVisuals().forEach((function(n){t.push(I(e,n.label))})),t}function I(e,t){if(!e.hasNode(t))throw"Node does not exist.";var n=[];return e.getAllEdgesIncidentOn(t).forEach((function(t){var a=Object(A.a)(t,2),r=a[0],i=a[1];n.push(new v("delete edge",e.removeEdge(r,i)))})),n.push(new v("delete node",e.removeNode(t))),n}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.keys(e.al),n={},a={},r={},i={},o=0;return t.forEach((function(e){a[e]=0})),t.forEach((function(t){if(0===a[t]){var s=K(e,t,a,r,i,o,[],"");o=s.time,n[s.treeName.substring(0,s.treeName.length-1)]=s.tree}})),{trees:n,finished:i}}function K(e,t,n,a,r,i,o,s){return i+=1,a[t]=i,n[t]=1,o.push(t),s+=t.toString()+"+",e.getAdjacencyList(t).forEach((function(t,c){if(0===n[t]){var l=K(e,t,n,a,r,i,o,s);i=l.time,s=l.treeName}})),n[t]=2,i+=1,r[t]=i,{time:i,tree:o,treeName:s}}function D(e,t,n,a){if(!t.weighted)throw"cannot make a spanning tree for an unweighted graph.";if(t.directed)throw"cannot make a spanning tree for a directed graph.";var r=[],i=[],o={};r.unshift(n),o[n]=n;for(var s=e.clone(),c=function(){var e=r.pop();i.push(e),s.getAdjacencyList(e).forEach((function(t){o.hasOwnProperty(t)||(o[t]=e,r.unshift(t)),s.removeEdge(e,t)}))};r.length>0;)c();var l={},d=new R;i.forEach((function(e){d.insert(e),l[e]=null})),d.decreaseKey(d.indexOf(n),0);for(var h=function(){var t=d.extractMin(),n=e.getAdjacencyList(t);if(0===n.length)return"break";n.forEach((function(n){var a=e.getWeight(t,n),r=d.indexOf(n);-1!==r&&a<d.getKey(r)&&(d.decreaseKey(r,a),l[n]=t)}))};!d.isEmpty();){if("break"===h())break}var u=[];return Object.entries(l).forEach((function(e){var t=Object(A.a)(e,2),n=t[0],a=t[1];null!==a&&(u.push(n+" "+a),u.push(a+" "+n))})),i.forEach((function(n){e.getAdjacencyList(n).forEach((function(e){t.hasEdge(n,e)&&-1===u.indexOf(n+" "+e)&&a.push(new v("delete edge",t.removeEdge(n,e)))}))})),a}function G(e,t,n,a,r,i){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=W(t),c=s.w,l=s.h;e.beginPath(),e.arc(n*c,a*l,r,0,2*Math.PI,!1),e.fillStyle=i,e.fill(),o&&(e.lineWidth=1,e.strokeStyle="black",e.stroke())}function T(e,t,n,a,r,i){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:12,s=W(t),c=s.w,l=s.h;e.fillStyle=i,e.font=o.toString()+"px Roboto",e.fillText(n,a*c,r*l)}function F(e,t,n,a,r,i,o,s){var c=W(t),l=i?1:0,d=n.u,h=n.v,u=S(d,c),f=S(h,c),g=d.radius,p=h.radius,m=w(u,f),v=E(u,f),b=v+Math.PI/2,y=x(k(f,u),.5),N=k(y,P(Math.min(40,100/m*200),b)),j=P(g,v),A=P(p,v),R=P(.5*g*l,b),M=P(.5*p*l,b),I=k(k(u,j),R),L=k(O(f,A),M);e.lineWidth=s?2:1,e.beginPath();var K=C(i?N:k(y,P(10,b)),c);if(o&&T(e,t,n.weight,K.x,K.y,"black"),null!==n.eulerianMarker&&(K=C(k(S(K,c),P(-20,b)),c),T(e,t,n.eulerianMarker,K.x,K.y,"#ff6961")),e.strokeStyle=a,e.fillStyle=a,e.moveTo(I.x,I.y),0===l?e.lineTo(L.x,L.y):e.quadraticCurveTo(N.x,N.y,L.x,L.y),e.stroke(),e.closePath(),r){e.beginPath();var D=0===l?v-l*Math.PI/7.5:E(N,L);!function(e,t,n,a){e.moveTo(t,n),e.lineTo(t-8*Math.cos(a-Math.PI/6),n-8*Math.sin(a-Math.PI/6)),e.lineTo(t-8*Math.cos(a+Math.PI/6),n-8*Math.sin(a+Math.PI/6))}(e,L.x,L.y,D),e.closePath(),e.fill()}}function W(e){return{w:e.width,h:e.height}}var U=function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={selectedNode:null,selectedEdges:[],mouseDown:!1},a.mouseUp=a.mouseUp.bind(Object(h.a)(a)),a.mouseDown=a.mouseDown.bind(Object(h.a)(a)),a.mouseMove=a.mouseMove.bind(Object(h.a)(a)),a.renderGraph=a.renderGraph.bind(Object(h.a)(a)),a.handleKeyPress=a.handleKeyPress.bind(Object(h.a)(a)),a.canvasRef=r.a.createRef(),a}return Object(d.a)(n,[{key:"getPngURI",value:function(){return this.canvasRef.current.toDataURL()}},{key:"nodeClicked",value:function(e,t,n){for(var a,r=this.props.graph.getNodeVisuals(),i=0;i<r.length;i++)if(w({x:e,y:t},S(a=r[i],n))<=a.radius)return a;return null}},{key:"edgeClicked",value:function(e,t,n){for(var a=this.props.graph.getEdgeVisuals(),r=0;r<a.length;r++)if(y(e,t,a[r],n))return a[r];return null}},{key:"manageEdgeSelection",value:function(e){var t=this.state.selectedEdges;-1===t.indexOf(e)?t.push(e):t.splice(t.indexOf(e),1)}},{key:"mouseDown",value:function(e){var t=this.getCanvasDimensions(),n=this.getMouseInput(e),a=n.x,r=n.y,i=C({x:a,y:r},t),o=this.props.graph,s=this.props.style,c=this.nodeClicked(a,r,t),l=this.edgeClicked(a,r,t),d=null!==c,h=null!==this.state.selectedNode,u=null!==l;if(!h&&d)this.setState({selectedNode:c});else if(u)this.manageEdgeSelection(l);else if(!h&&!d&&o.nodeCount<30){var f=o.getNextNodeLabel(),g=o.addNode(f,s,i.x,i.y);this.props.handleActions([new v("add node",g)],[f])}else if(h&&!d)this.state.selectedNode.x=i.x,this.state.selectedNode.y=i.y,this.setState({selectedNode:null});else if(h&&d){var p=this.state.selectedNode.label,m=c.label;if(!o.hasEdge(p,m)&&p!==m){var b=o.addEdge(this.state.selectedNode.label,c.label,s);this.props.handleActions([new v("add edge",b)],[b.u.label+" "+b.v.label]),this.setState({selectedNode:null})}}this.setState({mouseDown:!0})}},{key:"mouseUp",value:function(e){this.state.movingNode&&this.setState({selectedNode:null,movingNode:!1}),this.setState({mouseDown:!1})}},{key:"mouseMove",value:function(e){if(null!==this.state.selectedNode&&this.state.mouseDown){var t=this.getMouseInput(e),n=t.x,a=t.y,r=this.getCanvasDimensions(),i=r.w,o=r.h;this.state.selectedNode.x=n/i,this.state.selectedNode.y=a/o,this.setState({movingNode:!0})}}},{key:"handleKeyPress",value:function(e){var t=this;switch(e.keyCode){case 8:var n=[],a=[];null!=this.state.selectedNode&&(n.push(I(this.props.graph,this.state.selectedNode.label)),a.push("del "+this.state.selectedNode.label),this.setState({selectedNode:null})),this.state.selectedEdges!=[]&&(this.state.selectedEdges.forEach((function(e){t.props.graph.hasEdge(e)&&(n.push(new v("delete edge",t.props.graph.removeEdge(e))),a.push("del "+e.u.label+" "+e.v.label))})),this.setState({selectedEdges:[]})),this.props.handleActions(n,a);break;case 27:this.setState({selectedNode:null,selectedEdges:[]})}}},{key:"getMouseInput",value:function(e){var t=this.canvasRef.current.getBoundingClientRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}},{key:"render",value:function(){return r.a.createElement("canvas",{id:"canvas",className:"section spaced",ref:this.canvasRef,onMouseUp:this.mouseUp,onMouseDown:this.mouseDown,onMouseMove:this.mouseMove})}},{key:"componentDidUpdate",value:function(){this.renderGraph()}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress,!1),window.addEventListener("resize",this.renderGraph),this.fixCanvasDimensions()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress,!1),window.removeEventListener("resize",this.renderGraph)}},{key:"getCanvasDimensions",value:function(){return{w:this.canvasRef.current.width,h:this.canvasRef.current.height}}},{key:"fixCanvasDimensions",value:function(){var e=this.canvasRef.current;e.width=e.clientWidth,e.height=e.clientHeight}},{key:"renderGraph",value:function(){this.fixCanvasDimensions();var e=this.canvasRef.current,t=e.getContext("2d"),n=this.props.graph,a=(this.props.style,n.getNodeVisuals()),r=n.getEdgeVisuals();!function(e){e.clearRect(0,0,e.canvas.width,e.canvas.height),e.textAlign="center",e.textBaseline="middle"}(t);var i=this.state.selectedNode;null===i||n.hasNode(i)||this.setState({selectedNode:null});var o=this.state.selectedEdges;r.forEach((function(a){F(t,e,a,a.color,n.directed,a.bent,n.weighted,-1!==o.indexOf(a))})),a.forEach((function(n){n===i&&G(t,e,n.x,n.y,1.2*n.radius,"rgb(200, 200, 200)",!1),G(t,e,n.x,n.y,n.radius,n.color,!0),T(t,e,n.label,n.x,n.y,"white",n.radius<10?10:12)}))}}]),n}(r.a.Component);n(31);function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.getNodes(),n=!0,a=0,r={},i={},o={},s=0;return t.forEach((function(e){r[e]=0})),t.forEach((function(t){if(0===r[t]){var c=V(e,t,r,i,o,s);s=c.time,n=n&&!c.cycle,a++}})),{dag:n.toString(),trees:a,finished:o,discovered:i}}function V(e,t,n,a,r,i){var o=!1;return i+=1,a[t]=i,n[t]=1,e.getAdjacencyList(t).forEach((function(t,s){if(0===n[t]){var c=V(e,t,n,a,r,i);i=c.time,o=o||c.cycle}else 1===n[t]&&(o=!0)})),n[t]=2,i+=1,r[t]=i,{time:i,cycle:o}}function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=!1,r=!0,i={},o=[],s=0;o.unshift(t),n[t]=t,i[t]=0;for(var c=function(){var t=o.pop();s++,e.getAdjacencyList(t).forEach((function(e){null!=n[e]?n[t]!==e&&(a=!0,r=r&&(i[t]-i[e])%2!==0):(n[e]=t,i[e]=i[t]+1,o.unshift(e))}))};o.length>0;)c();return{cycle:a,bipartite:r,nodeCount:s}}function H(e){var t=0,n=0,a=!1,r=!0,i={},o=e.getNodes();for(o.forEach((function(e){i[e]=null}));o.length>0;){var s=o.pop();if(null==i[s]){t++;var c=B(e,s,i);a=a||c.cycle,r=r&&c.bipartite,c.nodeCount>1&&n++}}return{ccs:t,nonSingletons:n,acyclic:(!a).toString(),tree:(1===t&&!a).toString(),forest:(t>=1&&!a).toString(),bipartite:r.toString()}}var z=function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e,t=this.props.graph.getUnderlyingGraph(),n=H(t);if(this.props.graph.directed){var a=function(e){var t=J(e).finished,n=J(e.getTranspose(),Object.keys(t).map((function(e){return[e,t[e]]})).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]})));return{sccs:n.trees,dag:n.dag}}(this.props.graph);e=[q("Polytree",n.tree),q("Polyforest",n.forest),q("DAG",a.dag),q("Strongly Connected Components",a.sccs)]}else{var i=function(e,t,n){var a,r=n.getNodes(),i=0,o=n.getNodes().length,s=1===t,c=e>1?0:2,l=.5*r.length;switch(r.forEach((function(e){var t=n.getAdjacencyList(e).length;t%2===1&&(s=!1),2===c&&t<l&&(c=1),t>i&&(i=t),t<o&&(o=t)})),2===c&&r.length<3&&(c=1),c){case 0:a="false";break;case 1:a="possible";break;default:a="true"}return{eulerian:s.toString(),minDegree:o,maxDegree:i,hamiltonian:a}}(n.ccs,n.nonSingletons,t);e=[q("Min Degree",i.minDegree),q("Max Degree",i.maxDegree),q("Tree",n.tree),q("Forest",n.forest),q("Eulerian",i.eulerian),q("Hamiltonian",i.hamiltonian)]}return r.a.createElement("div",{id:"props",className:"section spaced"},r.a.createElement("div",{className:"section-label"}," Graph Properties "),r.a.createElement("div",{id:"props-list"},q("Connected Components",n.ccs),e,q("Bipartite",n.bipartite)))}}]),n}(r.a.Component);function q(e,t){var n={},a=0;switch(typeof t){case"boolean":t||(a=1);break;case"number":0===t&&(a=1);break;case"string":"possible"===t?a=2:"false"===t&&(a=1)}switch(a){case 0:n.backgroundColor="#aef3e7",n.color="#37718e";break;case 1:n.backgroundColor="#ff6961",n.color="#762e2e";break;case 2:n.backgroundColor="#c4bbf0",n.color="#4F3B7E"}return r.a.createElement("div",{key:e,style:n}," ",e,": ",t," ")}var X=function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props.clearFunc,t=this.props.undoFunc,n=this.props.redoFunc,a=this.props.changeFunc;return r.a.createElement("div",{className:"toolbar-sect",id:"state-manager"},r.a.createElement("div",{className:"section-label"}," State "),r.a.createElement("div",{className:"toolbar-sect-content"},r.a.createElement("div",null,r.a.createElement("button",{onClick:e}," reset "),r.a.createElement("button",{onClick:t,disabled:!this.props.canUndo}," undo "),r.a.createElement("button",{onClick:n,disabled:!this.props.canRedo}," redo ")),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",defaultChecked:!0,onClick:function(e){a("directed",e.target.checked)},disabled:this.props.edgeCount>0}),r.a.createElement("span",null,"directed")),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",onClick:function(e){a("weighted",e.target.checked)}}),r.a.createElement("span",null,"weighted")),r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",onClick:function(e){a("simple",e.target.checked)},defaultChecked:!0,disabled:!0}),r.a.createElement("span",null,"simple"))))}}]),n}(r.a.Component);function Y(e,t,n){var a,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(r&&!e.hasNode(t))throw"node does not exist.";if(!r&&!e.hasEdge(t[0],t[1]))throw"edge does not exist.";switch(n){case"v":a="#927fbf";break;case"b":a="#b1c5d4";break;case"r":a="#ff6961";break;case"g":a="#bde7bd";break;default:throw"no such color."}if(r){var i=e.nodes[t].color,o=a;return e.nodes[t].color=a,new v("color node",{node:e.nodes[t],colorLetter:n,prev:i,curr:o})}var s=e.getEdge(t[0],t[1]),c=s.color;return s.color=a,new v("color edge",{edge:s,prev:c,curr:a,colorLetter:n})}function _(e){for(var t=e.getNodes(),n=t[0],a=[n],r=function(){var t=e.getAdjacencyList(n),r=void 0,i=0;t.forEach((function(t){if(-1===a.indexOf(t)){var n=0;a.forEach((function(a){e.hasEdge(a,t)&&(n+=e.getWeight(a,t))})),n>i&&(r=t,i=n)}})),a.push(r),n=r};a.length!==t.length-1;)r();var i=t.filter((function(e){return-1===a.indexOf(e)}))[0],o=a[a.length-1],s="("+o+i+")";e.addNode(s);var c,l=0;return e.getAdjacencyList(i).forEach((function(t){c=e.getWeight(i,t),t===o||e.hasEdge(s,t)||e.addEdge(s,t,c),l+=c})),e.getAdjacencyList(o).forEach((function(t){t!==i&&(c=e.getWeight(o,t),e.hasEdge(s,t)?e.increaseWeight(s,t,c):e.addEdge(s,t,c))})),e.completelyRemoveNode(o),e.completelyRemoveNode(i),{g1:[i],g2:a,cutOfThePhase:l}}n(32);var Q=function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleKeyPress=a.handleKeyPress.bind(Object(h.a)(a)),a.inputRef=r.a.createRef(),a.bottomRef=r.a.createRef(),a.state={status:"None",error:!1},a}return Object(d.a)(n,[{key:"handleKeyPress",value:function(e){13===e.keyCode&&(this.handleCommand(this.inputRef.current.value),this.inputRef.current.value="")}},{key:"handleCommand",value:function(e){var t,n=this,a=this.props.graph,r=this.props.style,i=this.props.clState;t=e.includes(";")?e.split(";").filter((function(e){return""!==e})):[e];var o=[];t.forEach((function(e){var t,s,c,l=i.parseCommand(e);try{switch(l[0]){case"delete node":o.push(I(a,l[1]));break;case"add edge":t=l[1],s=l[2];var d=l[3];if(t===s)throw"no self edges.";if(!a.hasNode(t)||!a.hasNode(s))throw"no such nodes.";if(a.hasEdge(t,s)){if(void 0===d)throw"edge already exists.";a.setWeight(t,s,d)}o.push(new v("add edge",a.addEdge(t,s,r,d)));break;case"delete edge":if(t=l[1],s=l[2],!a.hasEdge(t,s))throw"edge does not exist.";o.push(new v("delete edge",a.removeEdge(t,s)));break;case"add node":if(30===a.nodeCount)throw"node limit reached.";if(a.hasNode(l[1]))throw"node already exists.";o.push(new v("add node",a.addNode(l[1],r)));break;case"bfs":var h=1===l.length?null:l[1];o.push(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===t)throw"source node is undefined.";null===t&&(t=Object.keys(e.nodes)[0]);var a=[],r=[new v("bfs",e.nodes[t])],i=e.getRawGraph();a.unshift(t),n[t]=t;for(var o=function(){var t=a.pop();i.getAdjacencyList(t).forEach((function(o){if(null!=n[o]){var s=e.removeEdge(t,o);r.push(new v("delete edge",s))}else n[o]=t,a.unshift(o);i.removeEdge(t,o)}))};a.length>0;)o();return r}(a,h));break;case"cc":var u=1===l.length?null:l.splice(1);o.push(function(e,t,n){null===n&&(n=Object.keys(e.nodes)),n.forEach((function(t){if(!e.hasNode(t))throw"a node specificed is not in the graph."}));var a=[new v("cc")];return n.forEach((function(r){n.forEach((function(n){r===n||e.hasEdge(r,n)||(a.push(new v("add edge",e.addEdge(n,r,t))),e.directed&&a.push(new v("add edge",e.addEdge(r,n,t))))}))})),a}(a,r,u));break;case"color node":o.push(Y(a,l[1],l[2]));break;case"color edge":o.push(Y(a,[l[1],l[2]],l[3],!1));break;case"colorall":o.push(function(e){var t=e.getRawGraph().getUnderlyingGraph(),n={},a=[new v("colorall")];return t.getNodes().forEach((function(e){n[e]=0})),t.getNodes().forEach((function(e){var a=[1,2,3,4];if(t.getAdjacencyList(e).forEach((function(e){if(0!==n[e]){var t=a.indexOf(n[e]);-1!==t&&a.splice(t,1)}})),0===a.length)throw"graph is not 4-colorable.";n[e]=a[0]})),Object.entries(n).forEach((function(t){var n,r=Object(A.a)(t,2),i=r[0];switch(r[1]){case 1:n="r";break;case 2:n="b";break;case 3:n="v";break;case 4:n="g"}a.push(Y(e,i,n))})),a}(a));break;case"trans":o.push(function(e,t){if(!e.directed)throw"cannot make transpose of undirected graph.";var n,a,r,i=[],o=[new v("trans")];return e.getEdgeVisuals().forEach((function(t){n=t.v.label,a=t.u.label,r=e.getWeight(a,n),o.push(new v("delete edge",t)),i.push([n,a,r]),e.removeEdge(t)})),i.forEach((function(n){var a=Object(A.a)(n,3),r=a[0],i=a[1],s=a[2];o.push(new v("add edge",e.addEdge(r,i,t,s)))})),o}(a,r));break;case"clear":o.push(M(a));break;case"kosaraju":o.push(function(e,t){if(!e.directed)throw"cannot make strongly connected components for undirected graph.";var n=e.getRawGraph(),a=n.getTranspose(),r=L(n).finished,i=L(a,Object.keys(r).map((function(e){return[e,r[e]]})).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]}))),o=[new v("kosaraju"),M(e)],s=Object.keys(i.trees);return s.forEach((function(n){o.push(new v("add node",e.addNode(n,t)))})),s.forEach((function(a){s.forEach((function(r){if(a!==r)for(var s=i.trees[a],c=i.trees[r],l=0;l<s.length;l++)for(var d=n.getAdjacencyList(s[l]),h=0;h<d.length;h++)if(-1!==c.indexOf(d[h])){var u=e.addEdge(a,r,t);o.push(new v("add edge",u)),l=s.length,h=d.length}}))})),o}(a,r));break;case"minst":c=l[1],o.push(function(e,t){void 0===t&&(t=Object.keys(e.nodes)[0]);var n=[new v("minst",e.nodes[t])];return D(e.getRawGraph(),e,t,n)}(a,c));break;case"maxst":c=l[1],o.push(function(e,t){void 0===t&&(t=Object.keys(e.nodes)[0]);var n=e.getRawGraph(),a=[new v("maxst",e.nodes[t])];for(var r in n.w)n.w[r]=1/n.w[r];return D(n,e,t,a)}(a,c));break;case"dijkstra":o.push(function(e,t,n){if(void 0===t||void 0===n||!e.hasNode(t)||!e.hasNode(n))throw"source or end node not in graph.";var a=e.getRawGraph(),r=[new v("dijkstra",{s:t,e:n})],i={},o=new R;a.getNodes().forEach((function(e){o.insert(e),i[e]=null})),o.decreaseKey(o.indexOf(t),0);for(var s=function(){var e=o.getKey(0),t=o.extractMin();a.getAdjacencyList(t).forEach((function(n){var r=a.getWeight(t,n);if(r<0)throw"negative edge weight exists.";var s=o.indexOf(n);-1!==s&&o.getKey(s)>e+r&&(o.decreaseKey(s,e+r),i[n]=t)}))};!o.isEmpty();)s();for(var c,l=n;null!==l;)null!==(c=i[l])&&r.push(Y(e,[c,l],"r",!1)),l=c;return r}(a,l[1],l[2]));break;case"belford":o.push(function(e,t,n){if(!e.hasNode(t)||!e.hasNode(n))throw"source or end node not in graph.";var a=e.getRawGraph(),r=a.getNodes(),i=a.getEdges(),o=[new v("belford",{s:t,e:n})],s={},c={};r.forEach((function(e){s[e]=9999,c[e]=null})),s[t]=0;for(var l=1;l<r.length;l++)i.forEach((function(e){var t=Object(A.a)(e,2),n=t[0],r=t[1];s[n]+a.getWeight(n,r)<s[r]&&(s[r]=s[n]+a.getWeight(n,r),c[r]=n)}));i.forEach((function(e){var t=Object(A.a)(e,2),n=t[0],r=t[1];if(s[n]+a.getWeight(n,r)<s[r])throw"negative cycle."}));for(var d,h=n;null!==h;)null!==(d=c[h])&&o.push(Y(e,[d,h],"r",!1)),h=d;return o}(a,l[1],l[2]));break;case"comp":o.push(function(e,t){if(e.directed)throw"cannot create complement for directed graph.";var n,a,r=[new v("comp")],i=e.getRawGraph(),o=i.getNodes();e.getEdgeVisuals().forEach((function(t){r.push(new v("delete edge",e.removeEdge(t)))}));for(var s=0;s<o.length;s++)for(var c=s+1;c<o.length;c++)n=o[s],a=o[c],i.hasEdge(n,a)||r.push(new v("add edge",e.addEdge(n,a,t)));return r}(a,r));break;case"eulcirc":o.push(function(e){if(e.directed)throw"cannot check on directed graph.";var t,n=e.getRawGraph(),a=0,r=null;for(var i in n.al){var o=n.al[i].length;if(o%2!==0)throw"no eulerian circuit.";a+=o,o>0&&(r=i)}a/=2;for(var s=[];a>0&&null!==r;)t=n.al[r][0],n.removeEdge(r,t),s.push([r,t]),r=t,a--;var c,l=[new v("eulcirc")];return s.forEach((function(t,n){var a=Object(A.a)(t,2),r=a[0],i=a[1];c=e.getEdge(r,i),l.push(new v("eulerian mark",{edge:c,prev:c.eulerianMarker,mark:n+1})),c.eulerianMarker=n+1})),l}(a));break;case"eulpat":o.push(function(e){if(e.directed)throw"cannot check on directed graph.";var t,n=e.getRawGraph(),a=0,r=null;for(var i in n.al){var o=n.al[i].length;o%2===0&&null!==r||(r=i),a+=o}a/=2;for(var s=[];a>0&&null!==r;){if(0===n.al[r].length&&a>0)throw"no eulerian path.";if(1===n.al[r].length)t=n.al[r][0];else for(var c=H(n).ccs,l=0;l<n.al[r].length;l++){var d=n.clone(),h=n.al[r][l];if(d.removeEdge(r,h),t=h,H(d).ccs===c)break}n.removeEdge(r,t),s.push([r,t]),r=t,a--}var u,f=[new v("eulpat")];return s.forEach((function(t,n){var a=Object(A.a)(t,2),r=a[0],i=a[1];u=e.getEdge(r,i),f.push(new v("eulerian mark",{edge:u,prev:u.eulerianMarker,mark:n+1})),u.eulerianMarker=n+1})),f}(a));break;case"stowag":o.push(function(e){if(e.directed)throw"cannot do Stoer Wagner on directed graph.";var t=e.getRawGraph();t.weighted=!0;for(var n,a,r=9999;t.getNodes().length>1;){var i=_(t),o=i.g1,s=i.g2,c=i.cutOfThePhase;c<r&&(n=o,a=s,r=c)}var l=[new v("stowag")],d=n.map((function(e){return e.split("").filter((function(e){return"("!==e&&")"!==e}))})).toString().split(","),h=a.map((function(e){return e.split("").filter((function(e){return"("!==e&&")"!==e}))})).toString().split(",");return d.forEach((function(t){h.forEach((function(n){e.hasEdge(t,n)&&l.push(Y(e,[t,n],"r",!1))}))})),l}(a));break;default:throw"no command or bad command parse."}n.setState({status:"Good.",error:!1})}catch(f){n.setState({status:"Bad, "+f,error:!0})}})),this.props.handleActions(o,t)}},{key:"render",value:function(){var e=this.props.clState.asList(),t=this.state.error?{backgroundColor:"#ff6961",color:"#762e2e"}:{backgroundColor:"#aef3e7",color:"#37718e"};return r.a.createElement("div",{id:"command-line-interface",className:"section",key:"cli"},r.a.createElement("div",{className:"section-label"}," Command Line Interface "),r.a.createElement("div",{id:"cli-status-wrapper",style:t}," Command Status: ",this.state.status),r.a.createElement("div",{id:"command-line-output"},e.map((function(e,t){return r.a.createElement("div",{key:t},e)})),r.a.createElement("div",{ref:this.bottomRef})),r.a.createElement("div",{id:"input-line-wrapper",onKeyDown:this.handleKeyPress},r.a.createElement("input",{id:"cursor",ref:this.inputRef,placeholder:"commands here"})))}},{key:"scrollToBottom",value:function(){this.bottomRef.current.scrollIntoView({behavior:"smooth"})}},{key:"componentDidMount",value:function(){this.scrollToBottom()}},{key:"componentDidUpdate",value:function(){this.scrollToBottom()}}]),n}(r.a.Component);n(33);function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return r.a.createElement("div",{className:"command-list-item"},r.a.createElement("div",{className:"section-label"}," ",e," "),r.a.createElement("p",null," ",t," "),r.a.createElement("div",{id:"constraint-list"},n.map((function(e,t){return r.a.createElement("div",{key:t,className:"constraint"}," ",e)}))))}var $=function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{id:"command-list",className:"section",key:"cl"},r.a.createElement("div",{className:"section-label"}," Command List "),r.a.createElement("div",null,"\u2022 A command may have a name and a list of arguments separated by spaces. "),r.a.createElement("div",null,"\u2022 Necessary arguments are denoted with brackets [ ] and optional arguments with curly braces ","{ }",". "),r.a.createElement("div",null,"\u2022 In the Command Line Interface, do not actually include brackets or braces with arguments. "),Z("name [necessary argument] {optional argument}","This is a sample command.",["graph requirements"]),r.a.createElement("div",{className:"divider-line"}),r.a.createElement("div",null,Z("[u]","Creates a new node labeled u."),Z("[u] [v] {w}","Creates a new edge from nodes u to v. You may optionally specify a weight, w. If the edge exists, the weight is updated to w."),Z("del [u]","Deletes node u."),Z("del [u] [v]","Deletes edge from nodes u to v."),Z("cc {u} {v} {w} . . .","If no arguments are specified then the command completely connects the graph. Otherwise only the specified nodes become completely connected."),Z("bfs {u}","Transforms the graph into a BFS tree rooted at u if specified. If u is not given, the root is a random node."),Z("trans","Turns the graph into its transpose.",["directed"]),Z("eulcirc","Visualizes an eulerian circuit if one exists.",["undirected"]),Z("eulpat","Visualizes an eulerian path if one exists.",["undirected"]),Z("comp","Turns the graph into its complement.",["undirected"]),Z("clear","Deletes all edges and nodes in the graph."),Z("colorall","Colors the graph with up to 4 colors."),Z("color [u] [col]","Changes the color of node u to col. col can be one of the following letters: r, g, b or v."),Z("color [u] [v] [col]","Changes the color of edge (u, v) to col. col can be one of the following letters: r, g, b or v."),Z("kosaraju","Transforms the graph into its corresponding strongly connected component graph.",["directed"]),Z("dijkstra [u] [v]","Colors the shortest path from nodes u to v if such a path exists.",["weighted","non-negative"]),Z("belford [u] [v]","Colors the shortest path from nodes u to v if such a path exists.",["weighted","no negative cycles"]),Z("minst {u}","Creates a minimum spanning tree rooted at node u. If u is not specified a random node is picked as the root node.",["weighted","undirected"]),Z("maxst {u}","Creates a maximum spanning tree rooted at node u. If u is not specified a random node is picked as the root node.",["weighted","undirected"]),Z("stowag","Visualizes the minimum cut also known as the max flow, on an undirected graph with the Stoer-Wagner algorithm.",["undirected"])))}}]),n}(r.a.Component),ee=function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).fileInputRef=r.a.createRef(),a}return Object(d.a)(n,[{key:"getFile",value:function(){return this.fileInputRef.current.files[0]}},{key:"render",value:function(){return r.a.createElement("div",{className:"toolbar-sect",id:"share-sect",key:"share"},r.a.createElement("div",{className:"section-label"},"Share"),r.a.createElement("div",{id:"share-options-list"},r.a.createElement("button",{onClick:this.props.downloadPng}," download as png "),r.a.createElement("div",{className:"divider-line"}),r.a.createElement("div",null,r.a.createElement("div",null,"Download a sharable JSON version of your graph."),r.a.createElement("button",{onClick:this.props.downloadJSON}," export graph ")),r.a.createElement("div",{className:"divider-line"}),r.a.createElement("div",null,r.a.createElement("div",null," Import and load a graph. "),r.a.createElement("button",{onClick:this.props.readInJSON}," load imported graph "),r.a.createElement("input",{type:"file",ref:this.fileInputRef,name:"import",accept:".json, .JSON",className:"custom-file-input"}))))}}]),n}(r.a.Component),te=n(12);function ne(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.al={},this.w={},this.directed=t,this.weighted=n,this.simple=a,this.addNode=function(t){e.al[t]=[]},this.addEdge=function(t,n,a){e.al[t].push(n),e.directed||e.al[n].push(t),e.w[t+" "+n]=a},this.hasEdge=function(t,n){var a=!1;return e.al.hasOwnProperty(t)?a=-1!==e.al[t].indexOf(n):!e.directed&&e.al.hasOwnProperty(n)&&(a=-1!==e.al[n].indexOf(t)),a},this.hasNode=function(t){return e.al.hasOwnProperty(t)},this.getAdjacencyList=function(t){return e.al.hasOwnProperty(t)?Object(te.a)(e.al[t]):[]},this.getWeight=function(t,n){if(!e.weighted)return 1;var a=t+" "+n;return e.w.hasOwnProperty(a)?e.w[a]:(a=n+" "+t,!e.directed&&e.w.hasOwnProperty(a)?e.w[a]:0)},this.setWeight=function(t,n,a){var r=t+" "+n;return e.w.hasOwnProperty(r)?(e.w[r]=a,e.w[r]):(r=n+" "+t,!e.directed&&e.w.hasOwnProperty(r)?(e.w[r]=a,e.w[r]):0)},this.increaseWeight=function(t,n,a){e.setWeight(t,n,e.getWeight(t,n)+a)},this.getNodes=function(){return Object.keys(e.al)},this.getEdges=function(){var t=e.clone(),n=[];return t.getNodes().forEach((function(e){for(;t.al[e].length>0;)n.push([e,t.al[e][0]]),t.removeEdge(e,t.al[e][0])})),n},this.removeNode=function(t){delete e.al[t]},this.completelyRemoveNode=function(t){e.getAllEdgesIncidentOn(t).forEach((function(t){var n=Object(A.a)(t,2),a=n[0],r=n[1];e.removeEdge(a,r)})),e.removeNode(t)},this.removeEdge=function(t,n){e.al.hasOwnProperty(t)&&(e.al[t].splice(e.al[t].indexOf(n),1),delete e.w[t+" "+n]),!e.directed&&e.al.hasOwnProperty(n)&&(e.al[n].splice(e.al[n].indexOf(t),1),delete e.w[n+" "+t])},this.getAllEdgesIncidentOn=function(t){var n=[];for(var a in e.al)a!==t&&-1!==e.al[a].indexOf(t)&&n.push([a,t]);return e.directed&&e.al[t].forEach((function(e){n.push([t,e])})),n},this.getUnderlyingGraph=function(){var t=new ne(!1,e.weighted,e.simple);Object.keys(e.al).forEach((function(e){t.addNode(e)}));var n=function(n){e.al[n].forEach((function(e){t.hasEdge(n,e)||t.addEdge(n,e)}))};for(var a in e.al)n(a);return t},this.getTranspose=function(){var t=new ne(e.directed,e.weighted,e.simple);Object.keys(e.al).forEach((function(e){t.addNode(e)}));var n=function(n){e.al[n].forEach((function(e){t.hasEdge(e,n)||t.addEdge(e,n)}))};for(var a in e.al)n(a);return t},this.clone=function(){var t=new ne(e.directed,e.weighted);return Object.keys(e.al).forEach((function(n){t.al[n]=Object(te.a)(e.al[n])})),Object.keys(e.w).forEach((function(n){t.w[n]=e.w[n]})),t}}function ae(e,t,n,a){this.u=e,this.v=t,this.bent=!1,this.weight=a,this.color=n,this.eulerianMarker=null,this.hamiltonianMarker=null}function re(e,t,n,a,r){this.label=e,this.radius=t,this.color=n,this.x=a,this.y=r}function ie(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.directed=t,this.weighted=n,this.simple=!0,this.edges={},this.nodes={},this.nodeCount=0,this.raw=new ne(t,n),this.changeProp=function(t,n){e[t]=n,e.raw[t]=n},this.hasEdge=function(){var e,t;return"object"===typeof arguments[0]?(e=arguments[0].u.label,t=arguments[0].v.label):(e=arguments[0],t=arguments[1]),this.raw.hasEdge(e,t)},this.getEdge=function(t,n){var a=e.edgeKey(t,n);return e.edges.hasOwnProperty(a)?e.edges[a]:(a=e.edgeKey(n,t),!e.directed&&e.edges.hasOwnProperty(a)?e.edges[a]:null)},this.hasNode=function(){return"object"===typeof arguments[0]?this.raw.hasNode(arguments[0].label):this.raw.hasNode(arguments[0])},this.addEdge=function(){var e,t,n,a,r,i;if(1===arguments.length)r=(e=arguments[0]).u.label,i=e.v.label,a=e.weight;else{r=arguments[0],i=arguments[1];var o=arguments[2],s=this.nodes[r],c=this.nodes[i];a=void 0!==arguments[3]?isNaN(arguments[3])?1:parseInt(arguments[3]):o.weight,e=new ae(s,c,o.edgeColor,a)}return t=this.edgeKey(r,i),n=this.edgeKey(i,r),this.raw.addEdge(r,i,a),this.edges[t]=e,this.directed&&this.edges.hasOwnProperty(n)&&(this.edges[n].bent=!0,this.edges[t].bent=!0),e},this.addNode=function(){var e,t;if(1===arguments.length)e=arguments[0],t=this.nodeKey(e.label);else{var n,a,r=arguments[0],i=arguments[1];if(4===arguments.length)n=arguments[2],a=arguments[3];else{var o=this.nextRandomNodePos();n=o.x,a=o.y}e=new re(r,i.nodeRadius,i.nodeColor,n,a),t=this.nodeKey(r)}return this.raw.addNode(t),this.nodes[t]=e,this.nodeCount++,e},this.removeNode=function(){var e,t;return"object"===typeof arguments[0]?(e=arguments[0],t=this.nodeKey(e.label)):(t=this.nodeKey(arguments[0]),e=this.nodes[t]),this.raw.removeNode(t),delete this.nodes[t],this.nodeCount--,e},this.removeEdge=function(){var e,t,n,a,r;return"object"===typeof arguments[0]?(a=(e=arguments[0]).u.label,r=e.v.label,t=this.edgeKey(a,r),n=this.edgeKey(r,a)):(a=arguments[0],r=arguments[1],void 0!==this.edges[this.edgeKey(a,r)]||this.directed?(t=this.edgeKey(a,r),n=this.edgeKey(r,a)):(t=this.edgeKey(r,a),n=this.edgeKey(a,r)),e=this.edges[t]),this.raw.removeEdge(a,r),delete this.edges[t],this.directed&&this.edges.hasOwnProperty(n)&&(this.edges[n].bent=!1),e},this.getWeight=function(t,n){return e.raw.getWeight(t,n)},this.setWeight=function(t,n,a){e.raw.setWeight(t,n,a)},this.getAllEdgesIncidentOn=function(t){return e.raw.getAllEdgesIncidentOn(t)},this.getNodeVisuals=function(){return Object.values(e.nodes)},this.getEdgeVisuals=function(){return Object.values(e.edges)},this.getRawGraph=function(){return e.raw.clone()},this.edgeKey=function(e,t){return e+" "+t},this.nodeKey=function(e){return e.toString()},this.nextRandomNodePos=function(){var t=(e.nodeCount+10)/29,n=2*Math.PI*1.61803*e.nodeCount;return{x:.5+.4*t*Math.cos(n),y:.5+.4*t*Math.sin(n)}},this.getNextNodeLabel=function(){for(var t=Object.keys(e.nodes).filter((function(e){return!isNaN(parseInt(e))})).map((function(e){return parseInt(e)})),n=1;-1!==t.indexOf(n);)n++;return n.toString()}}function oe(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;this.stack=[],this.max=t,this.push=function(t){e.stack.push(t),e.stack.length>e.max&&e.stack.shift()},this.pop=function(){return e.stack.pop()},this.empty=function(){return 0===e.stack.length},this.clear=function(){e.stack=[]},this.peek=function(){return e.empty()?null:e.stack[e.stack.length-1]},this.asSet=function(){return Object(te.a)(e.stack)}}function se(){var e=this;this.list=[],this.history=new oe,this.addCommand=function(t){e.list.push(t.join("; ")+";"),e.history.clear()},this.removeLastCommand=function(){e.list.length>0&&e.history.push(e.list.pop())},this.addFromHistory=function(){e.history.empty()||e.list.push(e.history.pop())},this.parseCommand=function(e){var t,n=e.split(" ").filter((function(e){return""!==e}));if(n.length>0)switch(n[0]){case"bfs":case"cc":case"colorall":case"trans":case"clear":case"kosaraju":case"maxst":case"minst":case"dijkstra":case"belford":case"comp":case"eulcirc":case"eulpat":case"stowag":return n;case"del":return(t=n)[0]="delete "+(3===t.length?"edge":"node"),t;case"color":return function(e){return 3===e.length?["color node",e[1],e[2]]:4===e.length?["color edge",e[1],e[2],e[3]]:["no command"]}(n);default:return function(e){return 1!==e.length||e[0].includes("+")?["add edge"].concat(e):["add node",e[0]]}(n)}return["no command"]},this.asList=function(){return Object(te.a)(e.list)}}n(34);function ce(e){if(!e.hasOwnProperty("directed"))throw"missing [directed] property";if(!e.hasOwnProperty("weighted"))throw"missing [weighted] property";if(!e.hasOwnProperty("nodes"))throw"missing [nodes] list";if(!e.hasOwnProperty("edges"))throw"missing [edges] property";var t=new ie(e.directed,e.weighted),n=Object.values(e.nodes);if(n.length>30)throw"graph exceeds node limit";return n.forEach((function(e){if(!e.hasOwnProperty("label"))throw"a node is missing a label";if(e.label.includes("+"))throw"a node label contains an invalid character";var n="node "+e.label;if(!e.hasOwnProperty("radius"))throw n+" is missing a radius";if(isNaN(e.radius)||e.radius<5||e.radius>20)throw n+" has an invalid radius";if(!e.hasOwnProperty("color"))throw n+" is missing a color";if(!e.hasOwnProperty("x"))throw n+" is missing an x position";if(e.x<0||e.x>1)throw n+" x position is out of range [0, 1]";if(!e.hasOwnProperty("y"))throw n+" is missing a y position";if(e.y<0||e.y>1)throw n+" y positin is out of range [0, 1]";if(t.hasNode(e.label))throw"duplicate node names";t.addNode(e)})),Object.values(e.edges).forEach((function(e){if(!e.hasOwnProperty("u")||!e.hasOwnProperty("v"))throw"an edge is missing one or more nodes";var n="edge "+e.u.label+" "+e.v.label;if(!e.hasOwnProperty("weight"))throw n+" has no [weight] property";if(isNaN(e.weight)||Math.abs(e.weight)>100)throw n+" has an invalid weight property";if(!e.hasOwnProperty("color"))throw n+" has no [color] property";if(!function(e){var t=e.match(le);return null!==t&&1===t.length}(e.color))throw n+" has an invalid color";if(!e.hasOwnProperty("bent"))throw n+" has no [bent] property";if("boolean"!==typeof e.bent)throw n+" has an invalid bent property";if(!e.hasOwnProperty("eulerianMarker"))throw n+" has no [eulerianMarker] property";if(isNaN(e.eulerianMarker))throw n+" has an invalid eulerianMarker";if(t.hasEdge(e.u.label,e.v.label))throw"duplicate edge";if(!t.hasNode(e.u)||!t.hasNode(e.v))throw"one or more nodes do not exist for an edge";var a=t.addEdge(e.u.label,e.v.label,{edgeColor:e.color},e.weight);a.eulerianMarker=e.eulerianMarker,a.bent=e.bent})),t}var le=/#([0-9]|[A-F]){6}/g;var de=function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={toolSettings:{nodeRadius:10,nodeColor:"#000000",weight:1,edgeColor:"#000000"},undoStack:new oe,redoStack:new oe,commandLine:new se,graph:new ie},a.changeToolSetting=a.changeToolSetting.bind(Object(h.a)(a)),a.changeGraphSetting=a.changeGraphSetting.bind(Object(h.a)(a)),a.handleActions=a.handleActions.bind(Object(h.a)(a)),a.downloadPng=a.downloadPng.bind(Object(h.a)(a)),a.downloadJSON=a.downloadJSON.bind(Object(h.a)(a)),a.readInJSON=a.readInJSON.bind(Object(h.a)(a)),a.clear=a.clear.bind(Object(h.a)(a)),a.undo=a.undo.bind(Object(h.a)(a)),a.redo=a.redo.bind(Object(h.a)(a)),a.renderingRef=r.a.createRef(),a.shareSectRef=r.a.createRef(),a}return Object(d.a)(n,[{key:"downloadPng",value:function(){!function(e){var t=document.createElement("a");t.setAttribute("href",e),t.setAttribute("download","graph.png"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}(this.renderingRef.current.getPngURI())}},{key:"downloadJSON",value:function(){!function(e){var t=document.createElement("a"),n="data:text/json;charset=utf-8,"+encodeURIComponent(e);t.setAttribute("href",n),t.setAttribute("download","graph_data.JSON"),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}(JSON.stringify(this.state.graph))}},{key:"readInJSON",value:function(){var e=this,t=this.shareSectRef.current.getFile();if(void 0!==t){var n=new FileReader;n.readAsText(t),n.onload=function(){e.makeGraph(JSON.parse(n.result))}}}},{key:"makeGraph",value:function(e){try{var t=ce(e);this.setState({graph:t,undoStack:new oe,redoStack:new oe,commandLine:new se})}catch(n){alert("JSON Parsing Error: "+n)}}},{key:"changeToolSetting",value:function(e,t){this.state.toolSettings[e]=t,this.forceUpdate()}},{key:"changeGraphSetting",value:function(e,t){this.state.graph.changeProp(e,t),"directed"===e&&(this.state.redoStack.clear(),this.state.undoStack.clear()),this.forceUpdate()}},{key:"clear",value:function(){this.setState({graph:new ie(this.state.graph.directed,this.state.graph.weighted),undoStack:new oe,redoStack:new oe,commandLine:new se})}},{key:"handleActions",value:function(e,t){0!==e.length&&(this.state.undoStack.push(e),this.state.commandLine.addCommand(t),this.setState({redoStack:new oe}))}},{key:"redoActions",value:function(e){var t=this;e.forEach((function(e){if(Array.isArray(e))t.redoActions(e);else{var n,a=e.privateString,r=e.item,i=t.state.graph;switch(a){case"add node":i.addNode(r);break;case"delete node":i.removeNode(r);break;case"add edge":i.addEdge(r);break;case"delete edge":i.removeEdge(r);break;case"color node":n=r.curr,r.node.color=n;break;case"color edge":n=r.curr,r.edge.color=n;break;case"eulerian mark":r.edge.eulerianMarker=r.mark}}}))}},{key:"redo",value:function(){var e=this.state.redoStack.pop();this.redoActions(e),this.state.undoStack.push(e),this.state.commandLine.addFromHistory(),this.forceUpdate()}},{key:"undoActions",value:function(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(Array.isArray(n))this.undoActions(n);else{var a=n.privateString,r=n.item,i=this.state.graph,o=void 0;switch(a){case"add node":i.removeNode(r);break;case"delete node":i.addNode(r);break;case"add edge":i.removeEdge(r);break;case"delete edge":i.addEdge(r);break;case"color node":o=r.prev,r.node.color=o;break;case"color edge":o=r.prev,r.edge.color=o;break;case"eulerian mark":r.edge.eulerianMarker=r.prev}}}}},{key:"undo",value:function(){var e=this.state.undoStack.pop();this.undoActions(e),this.state.redoStack.push(e),this.state.commandLine.removeLastCommand(),this.forceUpdate()}},{key:"render",value:function(){return r.a.createElement("div",{id:"graph-tool-wrapper"},r.a.createElement("div",{id:"rendering-and-commands"},r.a.createElement(U,{ref:this.renderingRef,graph:this.state.graph,style:this.state.toolSettings,handleActions:this.handleActions}),r.a.createElement("div",{id:"command-items",className:"spaced"},r.a.createElement($,null),r.a.createElement(Q,{clState:this.state.commandLine,graph:this.state.graph,style:this.state.toolSettings,handleActions:this.handleActions}))),r.a.createElement("div",{id:"tool-bar-and-props"},r.a.createElement("div",{id:"tool-bar",className:"section spaced"},r.a.createElement("div",{className:"section-label"}," Tool Bar "),r.a.createElement("div",{id:"tool-bar-content"},r.a.createElement(g,{toolSettings:this.state.toolSettings,changeFunc:this.changeToolSetting}),r.a.createElement(X,{clearFunc:this.clear,undoFunc:this.undo,redoFunc:this.redo,canRedo:!this.state.redoStack.empty(),canUndo:!this.state.undoStack.empty(),edgeCount:this.state.graph.getEdgeVisuals().length,changeFunc:this.changeGraphSetting}),r.a.createElement(ee,{ref:this.shareSectRef,downloadPng:this.downloadPng,downloadJSON:this.downloadJSON,readInJSON:this.readInJSON}))),r.a.createElement(z,{graph:this.state.graph.getRawGraph()})))}}]),n}(r.a.Component),he=(n(35),function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{id:"home-features-list"},r.a.createElement("div",null,r.a.createElement("div",{className:"title"}," Welcome to [name]! "),r.a.createElement("img",{src:"bonk",alt:"cute image from graphing tool"}),r.a.createElement("div",null," A free, simple and efficient graphing tool for Computer Science students. "),r.a.createElement("a",{href:"https://github.com"}," (and now open source!) "),r.a.createElement("div",null,"[name] is an ever evolving graphing library and tool that strives to be useful to Computer Science students through:")),r.a.createElement("div",{className:"feature-sect"},r.a.createElement("div",{id:"design"},r.a.createElement("div",{className:"subtitle"},"Intuative and Simple Design"),r.a.createElement("div",null," blah blah blah UX and UI choices blah blah")),r.a.createElement("img",{alt:"(gif of simple use)",className:"disp"})),r.a.createElement("div",{className:"feature-sect"},r.a.createElement("div",{className:"disp"},r.a.createElement("img",{alt:"why"})),r.a.createElement("div",{id:"efficiency"},r.a.createElement("div",{className:"subtitle"}," Efficiency and Coder Accessibility "),r.a.createElement("div",null," designed for programmers blah blah command line interface streamlines process blah blah "))),r.a.createElement("div",{className:"feature-sect"},r.a.createElement("div",{id:"functionality"},r.a.createElement("div",{className:"subtitle"}," Large and Increasing Functionality "),r.a.createElement("div",null," [name] features an ever growing list of useful algorithms and features. ")),r.a.createElement("div",{className:"disp",id:"functions-list-wrapper"},r.a.createElement("div",{id:"functions-list"},["Eulerian Path","Eulerian Circuit","K-Coloring","Minimum Spanning Tree","Maximum Spanning Tree","Dijkstra's Algorithm","Bellman Ford Algorithm","Stoer Wagner Algorithm","Kosaraju's Algorithm","Breadth First Search","Graph Complement","Graph Transpose"].map((function(e,t){return r.a.createElement("div",{key:t},e)}))))))}}]),n}(r.a.Component)),ue=(n(36),function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{id:"menubar"},r.a.createElement(s.b,{to:"/home"},"Home"),r.a.createElement(s.b,{to:"/tutorial"},"Tutorials"),r.a.createElement(s.b,{to:"/graph"},"Graph"),r.a.createElement(s.b,{to:"/devblog"},"Dev Blog"))}}]),n}(r.a.Component)),fe=function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null," tutorials ")}}]),n}(r.a.Component),ge=function(e){Object(u.a)(n,e);var t=Object(f.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null," dev blog ")}}]),n}(r.a.Component);var pe=function(){return r.a.createElement(s.a,null,r.a.createElement(ue,null),r.a.createElement(c.a,{path:"/",exact:!0,component:he}),r.a.createElement(c.a,{path:"/home",component:he}),r.a.createElement(c.a,{path:"/devblog",component:ge}),r.a.createElement(c.a,{path:"/tutorial",component:fe}),r.a.createElement(c.a,{path:"/graph",component:de}))};n(42);o.a.render(r.a.createElement(pe,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.3954caed.chunk.js.map